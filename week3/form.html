<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <form id="registration-form">
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required>
            <div class="error" id="username-error"></div>
        </div>
        
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
            <div class="error" id="email-error"></div>
        </div>
        
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
            <div class="error" id="password-error"></div>
        </div>
        
        <div class="form-group">
            <label for="confirm-password">Confirm Password:</label>
            <input type="password" id="confirm-password" name="confirm-password" required>
            <div class="error" id="confirm-password-error"></div>
        </div>
        
        <button type="submit">Submit</button>
    </form>

    <script>
const form = document.getElementById("registration-form");

form.addEventListener("submit", function (event) {
    event.preventDefault();
    if (validateForm()) {
        alert("Form submitted."); 
    }
});

const inputFields = form.querySelectorAll("input");

inputFields.forEach((input) => {
    input.addEventListener("blur", function () {
        validateInput(input);
    });
});

function validateForm() {
    let isValid = true;

    for (let i = 0; i < inputFields.length; i++) {
        if (!validateInput(inputFields[i])) {
            isValid = false;
        }
    }

    return isValid;
}

function validateInput(input) {
    const errorDiv = document.getElementById(input.id + "-error");
    const value = input.value.trim();

    if (value === "") {
        errorDiv.textContent = "This field is required";
        input.classList.remove("success");
        input.classList.add("error");
        return false;
    } else {
        errorDiv.textContent = "";
        input.classList.remove("error");
        input.classList.add("success");
    }

    if (input.id === "email") {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(value)) {
            errorDiv.textContent = "Invalid email format";
            input.classList.remove("success");
            input.classList.add("error");
            return false;
        }
    }

    if (input.id === "password" && value.length < 8) {
        errorDiv.textContent = "Password must be at least 8 characters long";
        input.classList.remove("success");
        input.classList.add("error");
        return false;
    }

    if (input.id === "confirm-password") {
        const passwordField = document.getElementById("password");
        if (value !== passwordField.value) {
            errorDiv.textContent = "Passwords do not match";
            input.classList.remove("success");
            input.classList.add("error");
            return false;
        }
    }

    return true;
}
    </script>

</body>
</html>
